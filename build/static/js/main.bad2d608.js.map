{"version":3,"sources":["Components/Loading/index.js","Router/index.js","Store/demoStore.js","Store/homeStore.js","Store/loginStore.js","Store/index.js","Store/detailStore.js","Store/userStore.js","index.js","Components/Toast/icons.js","Api/config.js","Api/index.js","../config/polyfills.js","Router/history.js","Components/Toast/notice.js","Components/Toast/toast.js","Components/Toast/notification.js","Components/Toast/index.js"],"names":["Loading_Loading","state","this","props","isLoading","react_default","a","createElement","className","react","asyncHome","lib_default","loader","Promise","all","__webpack_require__","e","then","bind","loading","asyncTopicDetail","asyncUser","asyncLogin","asyncWrite","Router_RouterWrapper","RouterWrapper","_this","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","call","Router","history","Router_history","Switch","Route","path","exact","render","Redirect","to","component","demoStore","count","demoCount","mobx_module","homeStore","bound","options","arguments","length","undefined","page","tab","limit","isReset","Object","Api","data","success","topicList","concat","ACCESS_TOKEN_KEY","USERINFO","setAccessToken","accessToken","localStorage","setItem","error","console","setUserInfo","info","JSON","stringify","loginStore_accessToken","getItem","getAccessToken","userInfo","parse","loginStore_getUserInfo","loginStore","accessTokenParam","notLocation","accesstoken","window","location","href","lastUrl","url","pathExtra","loginname","log","_this2","myCollectTopics","_context2","t0","src_Store","detailStore","id","topicDetail","replyId","index","setLastUrl","push","replies","is_uped","action","ups","pop","_context","isCollect","topic_id","_this3","is_collect","content","_this4","reply_id","getTopicDetail","catch","Toast","userStore","loginName","react_dom_default","index_module","document","getElementById","scripts","svgSprite","prepend","el","target","firstChild","parentNode","insertBefore","before","appendChild","getElementsByTagName","getAttribute","__iconfont__svg__cssinject__","write","fn","addEventListener","indexOf","readyState","setTimeout","loadFn","removeEventListener","attachEvent","w","d","done","init","polling","documentElement","doScroll","onreadystatechange","IEContentLoaded","ready","div","svg","innerHTML","setAttribute","style","position","width","height","overflow","body","cnodeHost","Api_config","getTopics","type","host","createTopic","updateTopic","collectTopic","delCollectTopic","getUserCollectTopics","createReply","upsReply","getUserDetail","getMessageCount","getMessages","messageMarkAll","messageMarkOne","axios_default","interceptors","response","use","error_msg","reject","__webpack_exports__","name","params","resolve","config","Error","prePath","objectSpread_default","method","includes","message","enable","history_createBrowserHistory__WEBPACK_IMPORTED_MODULE_0___default","notice_Notice","_this$props","aria-hidden","xlinkHref","warning","defaultProps","toast_notification","Toast_notice","Toast_notification","Notification","transitionTime","notices","removeNotice","assertThisInitialized_default","Date","getTime","notice","key","getNoticeKey","every","item","setState","duration","filter","onClose","react_transition_group","map","classNames","timeout","toast_notice","notification","addNotice","destroy","unmountComponentAtNode","removeChild","createNotification","Toast_toast","warn"],"mappings":"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","file":"static/js/main.bad2d608.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.less';\n\nexport default class Loading extends Component {\n  static propTypes = {\n    isLoading: PropTypes.bool.isRequired,\n  }\n  state = {}\n  render() {\n    const {\n      isLoading,\n    } = this.props;\n    return isLoading ? (\n      <section className=\"wh-all-fixed\">\n        <div className=\"progress-ring-root\">\n          <div>\n            <div className=\"react-uwp-progress-ring_6_5000-item-0 progress-ring-item\" />\n            <div className=\"react-uwp-progress-ring_6_5000-item-1 progress-ring-item\" />\n            <div className=\"react-uwp-progress-ring_6_5000-item-2 progress-ring-item\" />\n            <div className=\"react-uwp-progress-ring_6_5000-item-3 progress-ring-item\" />\n            <div className=\"react-uwp-progress-ring_6_5000-item-4 progress-ring-item\" />\n            <div className=\"react-uwp-progress-ring_6_5000-item-5 progress-ring-item\" />\n          </div>\n        </div>\n      </section>\n    ) : null;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { Router, Route, Switch, Redirect } from 'react-router-dom';\nimport Loadable from 'react-loadable';\nimport history from './history';\nimport Loading from '../Components/Loading';\n\nconst asyncHome = Loadable({\n  loader: () => import(/* webpackChunkName: \"home\" */'../Pages/Home'),\n  loading: Loading,\n});\nconst asyncTopicDetail = Loadable({\n  loader: () => import(/* webpackChunkName: \"topicDetail\" */'../Pages/TopicDetail'),\n  loading: Loading,\n});\nconst asyncUser = Loadable({\n  loader: () => import(/* webpackChunkName: \"user\" */'../Pages/User'),\n  loading: Loading,\n});\nconst asyncLogin = Loadable({\n  loader: () => import(/* webpackChunkName: \"login\" */'../Pages/Login'),\n  loading: Loading,\n});\nconst asyncWrite = Loadable({\n  loader: () => import(/* webpackChunkName: \"write\" */'../Pages/Write'),\n  loading: Loading,\n});\n\nexport default class RouterWrapper extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    return (\n      <Router history={history}>\n        <Switch>\n          <Route path=\"/\" exact render={() => <Redirect to=\"/theme\" />} />\n          <Route path=\"/theme\" exact component={asyncHome} />\n          <Route path=\"/theme/:id\" exact component={asyncHome} />\n          <Route path=\"/topic/:id\" exact component={asyncTopicDetail} />\n          <Route path=\"/user/:loginname\" exact component={asyncUser} />\n          <Route path=\"/login\" exact component={asyncLogin} />\n          <Route path=\"/write\" exact component={asyncWrite} />\n          <Redirect to=\"/theme\" />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\n","import { observable, action } from 'mobx';\n\nclass DemoStore {\n  @observable demoCount = 0;\n\n  @action\n  setDemoCount(count) {\n    this.demoCount = this.demoCount + count;\n  }\n}\n\nexport default new DemoStore();\n","/*\n * @Author: gonghao\n * @Date: 2018-07-30 23:16:47\n * @Last Modified by: gonghao\n * @Last Modified time: 2018-07-30 23:16:47\n * @Desc: 文章列表\n */\n\nimport { observable, action, runInAction } from 'mobx';\nimport apis from '../Api';\n\nclass HomeStore {\n  @observable topicList = []; // 列表\n\n  @action.bound\n  getTopicList(options = {\n    page: 1,\n    tab: '',\n    limit: 20,\n  }, isReset) {\n    return apis('getTopics', options).then((data) => {\n      if (data.success) {\n        runInAction(() => {\n          if (isReset) {\n            this.topicList = data.data;\n          } else {\n            this.topicList = this.topicList.concat(data.data);\n          }\n        });\n      }\n    });\n  }\n\n  @action.bound\n  clearTopicList() {\n    this.topicList = [];\n  }\n}\n\nexport default new HomeStore();\n","/*\n * @Author: gonghao\n * @Date: 2018-08-26 19:39:59\n * @Last Modified by: gonghao\n * @Last Modified time: 2018-09-08 23:19:50\n * @Desc: 用于获取、校验、存储access token\n */\n\nimport { observable, action, runInAction } from 'mobx';\nimport apis from '../Api';\n\nconst ACCESS_TOKEN_KEY = 'gh_cnode_access_token';\nconst USERINFO = 'gh_cnode_userinfo';\n/**\n * 获取accessToken\n */\nfunction getAccessToken() {\n  try {\n    return localStorage.getItem(ACCESS_TOKEN_KEY);\n  } catch (error) {\n    return '';\n  }\n}\n/**\n * 设置accessToken\n * @param {String} accessToken accessToken\n */\nfunction setAccessToken(accessToken) {\n  if (!accessToken) return;\n  try {\n    localStorage.setItem(ACCESS_TOKEN_KEY, accessToken);\n  } catch (error) {\n    console.error('accessToken设置失败');\n  }\n}\n/**\n * 获取用户信息\n */\nfunction getUserInfo() {\n  try {\n    const userInfo = localStorage.getItem(USERINFO);\n    if (userInfo) {\n      return JSON.parse(userInfo) || {};\n    }\n    return {};\n  } catch (error) {\n    return {};\n  }\n}\n/**\n * 设置用户信息\n * @param {Object} info 用户信息\n */\nfunction setUserInfo(info) {\n  if (!info) return;\n  try {\n    localStorage.setItem(USERINFO, JSON.stringify(info));\n  } catch (error) {\n    console.error('用户信息设置失败');\n  }\n}\n\nconst accessToken = getAccessToken();\nconst userInfo = getUserInfo();\n\nclass LoginStore {\n  @observable accessToken = accessToken; // accessToken\n  @observable userInfo = userInfo; // 用户信息\n  @observable lastUrl = ''; // 上次访问的url\n  @observable myCollectTopics = []; // 我收藏的文章\n\n  @action.bound\n  async checkAccessToken(accessTokenParam = accessToken, notLocation = false) { // 检查accessToken\n    try {\n      const data = await apis('accesstoken', {\n        accesstoken: accessTokenParam,\n      });\n      if (data && data.success) {\n        runInAction(() => {\n          this.accessToken = accessTokenParam;\n          this.userInfo = data;\n          setAccessToken(accessTokenParam);\n          setUserInfo(data);\n          if (!notLocation) {\n            window.location.href = this.lastUrl || '/';\n          }\n        });\n      }\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  @action.bound\n  setLastUrl(url) { // 设置上次访问的url，登录后直接返回过去\n    this.lastUrl = url;\n  }\n\n  @action.bound\n  async getUserCollectTopics() {\n    try {\n      const data = await apis('getUserCollectTopics', {}, {\n        pathExtra: `/${this.userInfo.loginname}`\n      });\n      console.log(data);\n      if (data && data.success) {\n        runInAction(() => {\n          this.myCollectTopics = data.data;\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\n\nexport default new LoginStore();\n","import demoStore from './demoStore';\nimport homeStore from './homeStore';\nimport detailStore from './detailStore';\nimport userStore from './userStore';\nimport loginStore from './loginStore';\n\nconst Store = {\n  demoStore,\n  homeStore,\n  detailStore,\n  userStore,\n  loginStore,\n};\n\nexport default Store;\n","/*\n * @Author: gonghao\n * @Date: 2018-07-30 23:16:16\n * @Last Modified by: gonghao\n * @Last Modified time: 2018-09-09 17:15:23\n * @Desc: 文章详情\n */\n\nimport { observable, action, runInAction } from 'mobx';\nimport message from '../Components/Toast';\nimport loginStore from './loginStore';\nimport history from '../Router/history';\nimport apis from '../Api';\n\nclass DetailStore {\n  @observable topicDetail = {};\n\n  @action.bound\n  getTopicDetail(id) { // 获取文章详情\n    return apis('getTopicDetail', {\n      accesstoken: loginStore.accessToken,\n    }, {\n      pathExtra: `/${id}`,\n    }).then((data) => {\n      if (data.success) {\n        runInAction(() => {\n          this.topicDetail = data.data;\n        });\n        return data;\n      }\n      return '';\n    });\n  }\n\n  @action.bound\n  clearTopicDetail() {\n    this.topicDetail = {};\n  }\n\n  /**\n   * 点在\n   * @param {*} replyId 评论id\n   * @param {*} index 索引\n   * @param {*} accessToken accesstoken\n   */\n  @action.bound\n  async upReply(replyId, index, accessToken) {\n    if (!loginStore.accessToken) {\n      loginStore.setLastUrl(window.location.href);\n      history.push('/login');\n      return;\n    }\n    try {\n      const data = await apis('upsReply', {\n        accesstoken: accessToken,\n      }, {\n        pathExtra: `/${replyId}/ups`\n      });\n      if (data && data.success) {\n        const replies = this.topicDetail.replies;\n        runInAction(() => {\n          replies[index].is_uped = data.action === 'up';\n          if (data.action === 'up') {\n            replies[index].ups.push(loginStore.userInfo.id);\n          } else {\n            replies[index].ups.pop();\n          }\n          this.topicDetail.replies = replies;\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  /**\n   * 收藏或取消收藏文章\n   * @param {*} isCollect 是否收藏\n   */\n  @action.bound\n  async collectTopic(isCollect = true) {\n    if (!loginStore.accessToken) {\n      loginStore.setLastUrl(window.location.href);\n      history.push('/login');\n      return;\n    }\n    try {\n      const data = await apis(isCollect ? 'collectTopic' : 'delCollectTopic', {\n        accesstoken: loginStore.accessToken,\n        topic_id: this.topicDetail.id,\n      });\n      if (data && data.success) {\n        runInAction(() => {\n          this.topicDetail.is_collect = isCollect;\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  /**\n   * 创建评论\n   * @param {String} content 评论内容\n   */\n  @action.bound\n  createReply(content, replyId) {\n    if (!loginStore.accessToken) {\n      loginStore.setLastUrl(window.location.href);\n      history.push('/login');\n      return '';\n    }\n    return apis('createReply', {\n      accesstoken: loginStore.accessToken,\n      content: content,\n      reply_id: replyId,\n    }, {\n      pathExtra: `/${this.topicDetail.id}/replies`,\n    }).then((data) => {\n      if (data && data.success) {\n        return this.getTopicDetail(this.topicDetail.id);\n      }\n      return '';\n    }).catch(() => {\n      message.error('网络请求错误！');\n    });\n  }\n}\n\nexport default new DetailStore();\n","import { observable, action, runInAction } from 'mobx';\nimport apis from '../Api';\n\nclass UserStore {\n  @observable userInfo = {};\n\n  @action.bound\n  getUserInfo(loginName) {\n    return apis('getUserDetail', {}, {\n      pathExtra: `/${loginName}`\n    }).then((data) => {\n      if (data && data.success && data.data) {\n        runInAction(() => {\n          this.userInfo = data.data;\n        });\n      }\n    });\n  }\n}\n\nexport default new UserStore();\n","/*\n * @Author: gonghao\n * @Date: 2018-07-22 20:34:45\n * @Last Modified by: gonghao\n * @Last Modified time: 2018-09-08 19:11:43\n * @Desc:\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'mobx-react';\nimport RouterWrapper from './Router';\n// import * as serviceWorker from './serviceWorker';\nimport store from './Store';\nimport './Assets/css/common.less';\n\n\nReactDOM.render(\n  <Provider {...store}>\n    <RouterWrapper />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.register();\n","/* eslint-disable */\n(function(window){var svgSprite='<svg><symbol id=\"icon-loading\" viewBox=\"0 0 1024 1024\"><path d=\"M960 447.008q-11.008-152.992-120-261.504t-260.992-120.512q-16-0.992-27.488 9.504t-11.488 26.496q0 14.016 9.504 24.512t23.488 11.488q55.008 4 107.008 26.016 60.992 26.016 108.992 73.504t74.016 109.504q22.016 51.008 26.016 106.016 0.992 14.016 11.488 23.488t24.512 9.504q15.008 0 26.016-11.008 11.008-12 8.992-27.008z\"  ></path></symbol><symbol id=\"icon-check-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m193.5 301.7l-210.6 292c-12.7 17.7-39 17.7-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\"  ></path></symbol><symbol id=\"icon-close-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-0.3L512 563.4l-99.3 118.4-66.1 0.3c-4.4 0-8-3.5-8-8 0-1.9 0.7-3.7 1.9-5.2l130.1-155L340.5 359c-1.2-1.5-1.9-3.3-1.9-5.2 0-4.4 3.6-8 8-8l66.1 0.3L512 464.6l99.3-118.4 66-0.3c4.4 0 8 3.5 8 8 0 1.9-0.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z\"  ></path></symbol><symbol id=\"icon-info-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272z m-32-344c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z\"  ></path></symbol><symbol id=\"icon-warning-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296z m32 440c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z\"  ></path></symbol></svg>';var script=function(){var scripts=document.getElementsByTagName(\"script\");return scripts[scripts.length-1]}();var shouldInjectCss=script.getAttribute(\"data-injectcss\");var ready=function(fn){if(document.addEventListener){if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState)){setTimeout(fn,0)}else{var loadFn=function(){document.removeEventListener(\"DOMContentLoaded\",loadFn,false);fn()};document.addEventListener(\"DOMContentLoaded\",loadFn,false)}}else if(document.attachEvent){IEContentLoaded(window,fn)}function IEContentLoaded(w,fn){var d=w.document,done=false,init=function(){if(!done){done=true;fn()}};var polling=function(){try{d.documentElement.doScroll(\"left\")}catch(e){setTimeout(polling,50);return}init()};polling();d.onreadystatechange=function(){if(d.readyState==\"complete\"){d.onreadystatechange=null;init()}}}};var before=function(el,target){target.parentNode.insertBefore(el,target)};var prepend=function(el,target){if(target.firstChild){before(el,target.firstChild)}else{target.appendChild(el)}};function appendSvg(){var div,svg;div=document.createElement(\"div\");div.innerHTML=svgSprite;svgSprite=null;svg=div.getElementsByTagName(\"svg\")[0];if(svg){svg.setAttribute(\"aria-hidden\",\"true\");svg.style.position=\"absolute\";svg.style.width=0;svg.style.height=0;svg.style.overflow=\"hidden\";prepend(svg,document.body)}}if(shouldInjectCss&&!window.__iconfont__svg__cssinject__){window.__iconfont__svg__cssinject__=true;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}ready(appendSvg)})(window)\n/* eslint-enable */\n","// cnode接口\nconst cnodeHost = 'https://cnodejs.org/api/v1';\n// 请阅读接口文档 https://cnodejs.org/api\nconst apiConfigs = {\n  getTopics: { // 主题首页\n    path: '/topics',\n    type: 'get',\n    host: cnodeHost,\n  },\n  getTopicDetail: { // 主题详情\n    path: '/topic',\n    type: 'get',\n    host: cnodeHost,\n  },\n  createTopic: { // 新建主题\n    path: '/topics',\n    type: 'post',\n    host: cnodeHost,\n  },\n  updateTopic: { // 编辑主题\n    path: '/topics',\n    type: 'post',\n    host: cnodeHost,\n  },\n  collectTopic: { // 收藏主题\n    path: '/topic_collect/collect',\n    type: 'post',\n    host: cnodeHost,\n  },\n  delCollectTopic: { // 取消收藏主题\n    path: '/topic_collect/de_collect',\n    type: 'post',\n    host: cnodeHost,\n  },\n  getUserCollectTopics: { // 用户所收藏的主题\n    path: '/topic_collect',\n    type: 'get',\n    host: cnodeHost,\n  },\n  createReply: { // 新建评论\n    path: '/topic', // /topic/:topic_id/replies\n    type: 'post',\n    host: cnodeHost,\n  },\n  upsReply: { // 为评论点赞\n    path: '/reply', // /reply/:reply_id/ups\n    type: 'post',\n    host: cnodeHost,\n  },\n  getUserDetail: { // 用户详情\n    path: '/user', // /user/:loginname\n    type: 'get',\n    host: cnodeHost,\n  },\n  accesstoken: { // 验证 accessToken 的正确性\n    path: '/accesstoken',\n    type: 'post',\n    host: cnodeHost,\n  },\n  getMessageCount: { // 获取未读消息数\n    path: '/message/count',\n    type: 'get',\n    host: cnodeHost,\n  },\n  getMessages: { // 获取已读和未读消息\n    path: '/messages',\n    type: 'get',\n    host: cnodeHost,\n  },\n  messageMarkAll: { // 标记全部已读\n    path: '/message/mark_all',\n    type: 'post',\n    host: cnodeHost,\n  },\n  messageMarkOne: { // 标记单个消息为已读\n    path: '/message/mark_one', // /message/mark_one/:msg_id\n    type: 'post',\n    host: cnodeHost,\n  }\n};\n\nexport default apiConfigs;\n","import axios from 'axios';\nimport message from '../Components/Toast';\nimport apiConfigs from './config';\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  message.error(error.response.data.error_msg);\n  return Promise.reject(error);\n});\n\nfunction apis(name, params, options) {\n  return new Promise((resolve, reject) => {\n    const config = apiConfigs[name];\n    if (!config) {\n      throw new Error(`请在Api/config.js中配置${name}方法`);\n    }\n    const prePath = `${config.host}${config.path}`;\n    const url = options ? `${prePath}${options.pathExtra}` : `${prePath}`;\n    if (options && options.pathExtra) {\n      delete options.pathExtra;\n    }\n    axios({\n      method: config.type,\n      url: url,\n      params: config.type === 'get' ? params : {},\n      data: ['put', 'post', 'patch'].includes(config.type) ? params : {},\n      ...options,\n    }).then((data) => {\n      if (data && data.data && data.data.success) {\n        resolve(data.data);\n      } else {\n        reject(new Error(data.data.error_msg));\n      }\n    }).catch((error) => {\n      reject(error);\n    });\n  }).catch((error) => {\n    console.error('接口请求错误:', error, error.message);\n    return error;\n  });\n}\n\nexport default apis;\n","// 'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n  require('promise/lib/finally');\n}\n\n// fetch() polyfill for making API calls.\n// require('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\n// Object.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\n// if (process.env.NODE_ENV === 'test') {\n//   require('raf').polyfill(global);\n// }\n\nexport default {};\n","import createBrowserHistory from 'history/createBrowserHistory';\n\nexport default createBrowserHistory();\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Notice extends Component {\n  static propTypes = {\n    type: PropTypes.string.isRequired,\n    content: PropTypes.string,\n  }\n  static defaultProps = {\n    content: '',\n  }\n  state = {}\n  render() {\n    const icons = {\n      info: 'icon-info-circle-fill',\n      success: 'icon-check-circle-fill',\n      warning: 'icon-warning-circle-fill',\n      error: 'icon-close-circle-fill',\n      loading: 'icon-loading'\n    };\n    const { type, content } = this.props;\n    return (\n      <div className={`toast-notice ${type}`}>\n        <svg className=\"icon\" aria-hidden=\"true\" >\n          <use xlinkHref={`#${icons[type]}`} />\n        </svg>\n        <span>{content}</span>\n      </div>\n    );\n  }\n}\n\nexport default Notice;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Notification from './notification';\nimport './toast.css';\n\nfunction createNotification() {\n  const div = document.createElement('div');\n  document.body.appendChild(div);\n  /* eslint-disable react/no-render-return-value */\n  const notification = ReactDOM.render(<Notification />, div);\n  return {\n    addNotice(notice) {\n      return notification.addNotice(notice);\n    },\n    destroy() {\n      ReactDOM.unmountComponentAtNode(div);\n      document.body.removeChild(div);\n    }\n  };\n}\n\nlet notification;\nconst notice = (type, content, duration = 2000, onClose) => {\n  if (!notification) notification = createNotification();\n  return notification.addNotice({ type, content, duration, onClose });\n};\n\nexport default {\n  info(content, duration, onClose) {\n    return notice('info', content, duration, onClose);\n  },\n  success(content, duration, onClose) {\n    return notice('success', content, duration, onClose);\n  },\n  warning(content, duration, onClose) {\n    return notice('warning', content, duration, onClose);\n  },\n  warn(content, duration, onClose) {\n    return notice('warning', content, duration, onClose);\n  },\n  error(content, duration, onClose) {\n    return notice('error', content, duration, onClose);\n  },\n  loading(content, duration = 0, onClose) {\n    return notice('loading', content, duration, onClose);\n  }\n};\n","import React, { Component } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport Notice from './notice';\n\nclass Notification extends Component {\n  constructor() {\n    super();\n    this.transitionTime = 300;\n    this.state = { notices: [] };\n    this.removeNotice = this.removeNotice.bind(this);\n  }\n\n  getNoticeKey() {\n    const { notices } = this.state;\n    return `notice-${new Date().getTime()}-${notices.length}`;\n  }\n\n  addNotice(notice) {\n    const { notices } = this.state;\n    notice.key = this.getNoticeKey();\n    if (notices.every(item => item.key !== notice.key)) {\n      notices.push(notice);\n      this.setState({ notices });\n      if (notice.duration > 0) {\n        setTimeout(() => {\n          this.removeNotice(notice.key);\n        }, notice.duration);\n      }\n    }\n    return () => {\n      this.removeNotice(notice.key);\n    };\n  }\n\n  removeNotice(key) {\n    const { notices } = this.state;\n    this.setState({\n      notices: notices.filter((notice) => {\n        if (notice.key === key) {\n          if (notice.onClose) setTimeout(notice.onClose, this.transitionTime);\n          return false;\n        }\n        return true;\n      })\n    });\n  }\n\n  render() {\n    const { notices } = this.state;\n    return (\n      <TransitionGroup className=\"toast-notification\">\n        {notices.map(notice => (\n          <CSSTransition\n            key={notice.key}\n            classNames=\"toast-notice-wrapper notice\"\n            timeout={this.transitionTime}\n          >\n            <Notice {...notice} />\n          </CSSTransition>\n        ))}\n      </TransitionGroup>\n    );\n  }\n}\n\nexport default Notification;\n","import Toast from './toast';\nimport './icons';\n\nexport default Toast;\n"],"sourceRoot":""}