(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{243:function(e,t,a){"use strict";a.r(t);a(101);var n,r,s=a(6),o=a.n(s),i=a(5),c=a.n(i),l=a(18),m=a.n(l),u=a(17),f=a.n(u),p=a(16),_=a.n(p),v=a(0),g=a.n(v),h=a(59),d=a(248),b=a(241),y=a(230),x=a.n(y),E=(a(1),a(229)),S=a.n(E),N=a(228),k=a.n(N),w=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=m()(this,(e=f()(t)).call.apply(e,[this].concat(r)))).state={},a}return _()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.info,t=S()(new Date(e.last_reply_at),{locale:k.a});return g.a.createElement("li",{className:"flex recent flex flex-v-c"},g.a.createElement("div",{className:"recent__avatar flex flex-v-c"},g.a.createElement(d.a,{to:"/user/".concat(e.author.loginname),className:"recent__avatar--img",style:{backgroundImage:"url(".concat(e.author.avatar_url,")")},title:e.author.loginname})),g.a.createElement("div",{className:"flex-1 flex flex-v-c recent__title"},g.a.createElement(d.a,{to:"/topic/".concat(e.id),className:"ellipsis"},e.title)),g.a.createElement("div",{className:"recent__time"},t,"\u524d"))}}]),t}(v.Component);a(235);a.d(t,"default",function(){return I});var I=(n=Object(h.b)(function(e){return{userStore:e.userStore,loginStore:e.loginStore,userInfo:e.loginStore.userInfo,myCollectTopics:e.loginStore.myCollectTopics}}),Object(b.a)(r=n(r=Object(h.c)(r=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=m()(this,(e=f()(t)).call.apply(e,[this].concat(r)))).state={activeTab:1,tabList:[{id:1,desc:"\u6700\u8fd1\u521b\u5efa\u7684\u8bdd\u9898",list:[]},{id:2,desc:"\u6700\u8fd1\u53c2\u4e0e\u7684\u8bdd\u9898",list:[]}],isMySelf:a.props.loginStore.userInfo.loginname===a.props.match.params.loginname},a.changeTab=function(e){a.setState({activeTab:e})},a}return _()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.loginname;this.props.userStore.getUserInfo(e),this.props.loginStore.userInfo.loginname&&this.props.loginStore.userInfo.loginname===e&&this.props.loginStore.getUserCollectTopics()}},{key:"componentWillReceiveProps",value:function(e){console.log("nextProps:",e);var t=this.props.match.params.loginname,a=e.match.params.loginname;t!==a&&(this.props.userStore.getUserInfo(a),this.setState({activeTab:1})),e.loginStore.userInfo.loginname&&e.loginStore.userInfo.loginname===a&&this.changeTabList(e.myCollectTopics)}},{key:"changeTabList",value:function(e){this.setState({tabList:this.state.tabList.concat([{id:3,desc:"\u6211\u7684\u6536\u85cf",list:e}])})}},{key:"render",value:function(){var e=this,t=this.props.userStore.userInfo,a=this.state,n=a.activeTab,r=a.tabList,s=a.isMySelf,o=[];return o=1===n?t.recent_topics||[]:2===n?t.recent_replies||[]:r[2]?r[2].list:[],g.a.createElement("section",{className:"user"},g.a.createElement("div",{className:"user__info flex"},g.a.createElement("div",{className:"user__info__avatar",style:{backgroundImage:"url(".concat(t.avatar_url,")")}}),g.a.createElement("div",{className:"user__info__content flex flex-1 flex-v flex-h-between"},g.a.createElement("div",{className:"user__info__content--loginname"},t.loginname),g.a.createElement("div",{className:"user__info__content--github"},"\u79ef\u5206: ",t.score),g.a.createElement("div",{className:"user__info__content--createtime"},"\u521b\u5efa\u4e8e: ",t.create_at?x()(t.create_at,"YYYY-MM-DD HH:mm"):""),s&&g.a.createElement(d.a,{to:"/write",className:"user__write"},"\u5199\u6587\u7ae0"))),g.a.createElement("div",{style:{background:"#f4f5f5",height:"1rem"}}),g.a.createElement("div",{className:"user__info__tab flex"},r.map(function(t){return g.a.createElement("div",{key:t.id,className:"user__info__tab--item flex flex-v-c flex-h-c flex-1 ".concat(n===t.id?"active":""),onClick:function(){return e.changeTab(t.id)}},t.desc)})),g.a.createElement("ul",null,o.map(function(e){return g.a.createElement(w,{key:e.id,info:e})}),0===o.length&&g.a.createElement("div",{className:"user__info__empty padding-tb-12 text-center"},"\u6682\u65e0\u6570\u636e")))}}]),t}(v.Component))||r)||r)||r)}}]);